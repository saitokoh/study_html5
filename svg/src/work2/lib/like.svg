<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" class="like" width="250px" height="250px" viewBox="0 0 500 500">
    <style><![CDATA[
        /* 初期状態 */
        .explosion {
            r: 0;
            fill: none;
            stroke: #ee82ee;
        }
        .particleLayer circle {
            opacity: 0;
        }
        .heart {
            transform-origin: 250px 250px;
            /*transform: scale(1);*/
            transform: scale(0.9);
            fill: #aaaaaa;
        }

        /* アニメーション */
        .explosion-animation {
            animation: explosion-keyframe 1s forwards;
        }
        .particleLayer-animation circle {
            animation: particleLayer-keyframe 1s forwards;
        }
        .heart-animation {
            animation: heart-keyframe 1s forwards;
        }

        /* キーフレーム */
        @keyframes explosion-keyframe {
            0% { stroke-width: 0; }
            20% { stroke-width: 250px; r: 100; }
            70% { stroke-width: 0; r: 200; opacity: 0 }
            100% { opacity: 0; }
        }

        @keyframes particleLayer-keyframe {
            0% { opacity: 0; }
            20% { opacity: 0; }
            60% { opacity: 1; }
            70% { opacity: 1; }
            100% { opacity: 0; }
        }

        @keyframes heart-keyframe {
            0% { opacity: 0; transform: scale(0); }
            50% { opacity: 0; fill: red;  transform: scale(0); }
            51% { opacity: 1; transform: scale(0); }
            85% { transform: scale(1.1); }
            90% { transform: scale(1.1, 0.9); }
            95% { transform: scale(0.9, 1.1); }
            100% { opacity: 1; fill: red; transform: scale(1); }
        }
    ]]></style>
    <!-- アニメーションさせるサークル -->
    <circle class="explosion" r="150" cx="250" cy="250"></circle>
    <!-- まわりに飛び散る円 -->
    <g class="particleLayer">
        <circle fill="#8CE8C3" cx="130" cy="126.5" r="12.5"/>
        <circle fill="#8CE8C3" cx="411" cy="313.5" r="12.5"/>
        <circle fill="#91D2FA" cx="279" cy="86.5" r="12.5"/>
        <circle fill="#91D2FA" cx="155" cy="390.5" r="12.5"/>
        <circle fill="#CC8EF5" cx="89" cy="292.5" r="10.5"/>
        <circle fill="#9BDFBA" cx="414" cy="282.5" r="10.5"/>
        <circle fill="#9BDFBA" cx="115" cy="149.5" r="10.5"/>
        <circle fill="#9FC7FA" cx="250" cy="80.5" r="10.5"/>
        <circle fill="#9FC7FA" cx="78" cy="261.5" r="10.5"/>
        <circle fill="#96D8E9" cx="182" cy="402.5" r="10.5"/>
        <circle fill="#CC8EF5" cx="401.5" cy="166" r="13"/>
        <circle fill="#DB92D0" cx="379" cy="141.5" r="10.5"/>
        <circle fill="#DB92D0" cx="327" cy="397.5" r="10.5"/>
        <circle fill="#DD99B8" cx="296" cy="392.5" r="10.5"/>
    </g>
    <!-- ハート -->
    <path class="heart" d="M250,187.4c-31.8-47.8-95.5-19.8-95.5,32.2c0,35.2,31.8,60.3,55.7,79.2c24.9,19.7,31.8,23.9,39.8,31.8 c7.9-7.9,14.6-12.6,39.8-31.8c24.3-18.5,55.7-44.4,55.7-79.6C345.5,167.6,281.8,139.7,250,187.4z"/>
    <script><![CDATA[
        (function() {
            document.querySelector('.like').addEventListener('click', () => {
               document.querySelector('.explosion').classList.toggle('explosion-animation');
               document.querySelector('.particleLayer').classList.toggle('particleLayer-animation');
               document.querySelector('.heart').classList.toggle('heart-animation');
            });
        })();
    ]]></script>
</svg>